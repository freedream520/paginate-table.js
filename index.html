<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>Paginate-table.js by wdxzs1985</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="vendor/bootstrap/3.3.6/css/bootstrap.min.css"/>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
</head>
<body>
<section class="page-header">
    <h1 class="project-name">Paginate-table.js</h1>
    <h2 class="project-tagline">分页表格插件</h2>
    <a href="https://github.com/wdxzs1985/paginate-table.js" class="btn">View on GitHub</a>
    <a href="https://github.com/wdxzs1985/paginate-table.js/zipball/master" class="btn">Download .zip</a>
    <a href="https://github.com/wdxzs1985/paginate-table.js/tarball/master" class="btn">Download .tar.gz</a>
</section>

<section class="main-content">
    <h1>
      <a id="paginate-tablejs" class="anchor" href="#paginate-tablejs" aria-hidden="true">
          <span aria-hidden="true" class="octicon octicon-link"></span>
      </a>paginate-table.js
    </h1>

    <div>
      <p>分页表格插件</p>
    
      <p>依赖JS模板<br />
      <a href="https://blueimp.github.io/JavaScript-Templates/">JavaScript Templates Demo</a></p>
    </div>
  
    <h1>
      <a class="anchor" href="#paginate-tablejs" aria-hidden="true">
          <span aria-hidden="true" class="octicon octicon-link"></span>
      </a>Demo
    </h1>
    <div id="demo" class="panel panel-default">
        <div class="table-responsive">
            <table class="table table-striped table-hover"></table>
        </div>
        <div class="panel-footer">
            <div class="paginate"></div>
        </div>
    </div>

<footer class="site-footer">
    <span class="site-footer-owner"><a href="https://github.com/wdxzs1985/paginate-table.js">Paginate-table.js</a> is maintained by <a href="https://github.com/wdxzs1985">wdxzs1985</a>.</span>
    <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
</footer>

</section>

<script type="text/javascript" src="vendor/jquery/1.12.0/jquery-1.12.0.min.js"></script>
<script type="text/javascript" src="vendor/bootstrap/3.3.6/js/bootstrap.min.js"></script>
<script type="text/javascript" src="vendor/javascript-templates/3.1.0/js/tmpl.min.js"></script>
<script type="text/javascript" src="paginate-table.js"></script>
<script>
(function(){
	
    
    var page = {
    	pageSize: 10,
        pageNumber : 1,
        pageCount: 0,
        items: [],
        itemCount: 0,
        first: true,
        last: true
    }
    
	$.getJSON('./data.json').done(function(response) {
		page.itemCount = response.length;
		page.pageCount = Math.ceil(page.itemCount / page.pageSize);

        $('#demo').table({
            fetch: function(e, params) {
            	if(params) {
            		page.pageNumber = params.pageNumber;
            	}
            	
            	page.first = page.pageNumber == 1;
                page.last = page.pageNumber == page.pageCount;
                
            	page.start = (page.pageNumber - 1) * page.pageSize;
            	page.end = page.start + page.pageSize;
            	
            	page.items = response.filter(function(value, index, array) {
            		if(index >= page.start && index < page.end) {
            			return true;
            		}
            		return false;
            	});
            	
            	$('#demo').trigger('render', {
                    'page': page
                });
            }
        });
	});
	
})();
</script>
<script type="text/x-tmpl" id="tmpl-table" >
<table>
<thead>
    <tr>
        <th class="text-center">序号</th>
        <th class="text-center">国家</th>
        <th class="text-center">城市</th>
    </tr>
</thead>
<tbody>
{% for (var i=0, item; item=o.items[i]; i++) { %}
    <tr>
        <td class="text-center">{%=item.id%}</td>
        <td class="text-center">{%=item.country%}</td>
        <td class="text-center">{%=item.name%}</td>
    </tr>
{% } %}
</tbody>
</table>
</script>
<script type="text/x-tmpl" id="tmpl-paginate">
<nav class="clearfix tmpl-paginate">
    <ul class="pagination pull-left">
    {% if (o.first) { %}
    <li class="disabled">
      <a href="javascript:;" aria-label="首页">
        <span aria-hidden="true">首页</span>
      </a>
    </li>
    <li class="disabled">
      <a href="javascript:;" aria-label="上页" >
        <span aria-hidden="true">上页</span>
      </a>
    </li>
    {% } else { %}
    <li>
      <a href="javascript:;" class="goto-page" aria-label="首页" data-page-number="1" >
        <span aria-hidden="true">首页</span>
      </a>
    </li>
    <li>
      <a href="javascript:;" class="goto-page" aria-label="上页" data-page-number="{%=o.pageNumber - 1%}" >
        <span aria-hidden="true">上页</span>
      </a>
    </li>
    {% } %}
    {% if (o.last) { %}
    <li class="disabled">
      <a href="javascript:;" aria-label="下页" >
        <span aria-hidden="true">下页</span>
      </a>
    </li>
    <li class="disabled">
      <a href="javascript:;" aria-label="尾页" >
        <span aria-hidden="true">尾页</span>
      </a>
    </li>
    {% } else { %}
    <li>
      <a href="javascript:;" class="goto-page" aria-label="下页" data-page-number="{%=o.pageNumber + 1%}" >
        <span aria-hidden="true">下页</span>
      </a>
    </li>
    <li>
      <a href="javascript:;" class="goto-page" aria-label="尾页" data-page-number="{%=o.pageCount%}" >
        <span aria-hidden="true">尾页</span>
      </a>
    </li>
    {% } %}
  </ul>
  <form class="pull-right form-inline">
    <div class="form-group">
        <p class="form-control-static">第{%=o.pageNumber%}/{%=o.pageCount%}页</p>
    </div>
    <div class="form-group">
        <p class="form-control-static">查询结果：共{%=o.itemCount%}条记录</p>
    </div>
    <div class="form-group">
        <p class="form-control-static">跳转到第</p>
        <input type="number" name="pageNumber" value="{%=o.pageNumber%}" class="form-control input-page-number" style="width:60px"/>
        <p class="form-control-static">页</p>
    </div>
    <div class="form-group">
        <button type="submit" class="btn btn-default">GO</button>
    </div>
  </form>
</nav>
</script>
</body>
</html>
